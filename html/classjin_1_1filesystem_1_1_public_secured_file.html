<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Jin Framework: Référence de la classe PublicSecuredFile</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logotype_jin.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Jin Framework
   &#160;<span id="projectnumber">v1.10.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Recherche');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Page&#160;principale</span></a></li>
      <li><a href="pages.html"><span>Pages&#160;associées</span></a></li>
      <li><a href="namespaces.html"><span>Espaces&#160;de&#160;nommage</span></a></li>
      <li class="current"><a href="annotated.html"><span>Structures&#160;de&#160;données</span></a></li>
      <li><a href="files.html"><span>Fichiers</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Recherche" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Structures&#160;de&#160;données</span></a></li>
      <li><a href="classes.html"><span>Index&#160;des&#160;structures&#160;de&#160;données</span></a></li>
      <li><a href="hierarchy.html"><span>Hiérarchie&#160;des&#160;classes</span></a></li>
      <li><a href="functions.html"><span>Champs&#160;de&#160;donnée</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacejin.html">jin</a></li><li class="navelem"><a class="el" href="namespacejin_1_1filesystem.html">filesystem</a></li><li class="navelem"><a class="el" href="classjin_1_1filesystem_1_1_public_secured_file.html">PublicSecuredFile</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Fonctions membres publiques</a> &#124;
<a href="#pub-static-methods">Fonctions membres publiques statiques</a>  </div>
  <div class="headertitle">
<div class="title">Référence de la classe PublicSecuredFile</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Fonctions membres publiques</h2></td></tr>
<tr class="memitem:ac222ff11eb057e6457af648123d4a19d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjin_1_1filesystem_1_1_public_secured_file.html#ac222ff11eb057e6457af648123d4a19d">__construct</a> ($path, $secureKey)</td></tr>
<tr class="separator:ac222ff11eb057e6457af648123d4a19d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03582271ad4fdc21fa01a7901bf3605f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjin_1_1filesystem_1_1_public_secured_file.html#a03582271ad4fdc21fa01a7901bf3605f">getLastError</a> ()</td></tr>
<tr class="separator:a03582271ad4fdc21fa01a7901bf3605f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b37efab7473a1effc29f8be2421f6e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjin_1_1filesystem_1_1_public_secured_file.html#a7b37efab7473a1effc29f8be2421f6e3">isValid</a> ()</td></tr>
<tr class="separator:a7b37efab7473a1effc29f8be2421f6e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcb0cc2f1903af33935fc478c04f7fcf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjin_1_1filesystem_1_1_public_secured_file.html#adcb0cc2f1903af33935fc478c04f7fcf">renderInOutput</a> ()</td></tr>
<tr class="separator:adcb0cc2f1903af33935fc478c04f7fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31cf5274dbb0c7b89d01a13a17c38bae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjin_1_1filesystem_1_1_public_secured_file.html#a31cf5274dbb0c7b89d01a13a17c38bae">forceDownload</a> ()</td></tr>
<tr class="separator:a31cf5274dbb0c7b89d01a13a17c38bae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13bdffdd926f26b825ea57066334ff01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjin_1_1filesystem_1_1_public_secured_file.html#a13bdffdd926f26b825ea57066334ff01">delete</a> ()</td></tr>
<tr class="separator:a13bdffdd926f26b825ea57066334ff01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Fonctions membres publiques statiques</h2></td></tr>
<tr class="memitem:a2cded8a3175c3db2fbdc53bf75d1d1e6"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjin_1_1filesystem_1_1_public_secured_file.html#a2cded8a3175c3db2fbdc53bf75d1d1e6">getUrlKeyArg</a> ()</td></tr>
<tr class="separator:a2cded8a3175c3db2fbdc53bf75d1d1e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee8e0e595889d4f9ea2e5532e4e41d0d"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjin_1_1filesystem_1_1_public_secured_file.html#aee8e0e595889d4f9ea2e5532e4e41d0d">setBaseKeyLength</a> ($length)</td></tr>
<tr class="separator:aee8e0e595889d4f9ea2e5532e4e41d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a085aa103a87f5de514cbada9166f1488"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjin_1_1filesystem_1_1_public_secured_file.html#a085aa103a87f5de514cbada9166f1488">add</a> ($fileToCopy, $relativePath= '')</td></tr>
<tr class="separator:a085aa103a87f5de514cbada9166f1488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58a0c28c7b73d213bbcda35f59b59899"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjin_1_1filesystem_1_1_public_secured_file.html#a58a0c28c7b73d213bbcda35f59b59899">deleteFromUrl</a> ($url)</td></tr>
<tr class="separator:a58a0c28c7b73d213bbcda35f59b59899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3d11f325bf1aa757aa39e695e75ea1e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjin_1_1filesystem_1_1_public_secured_file.html#ad3d11f325bf1aa757aa39e695e75ea1e">getFullStorePath</a> ()</td></tr>
<tr class="separator:ad3d11f325bf1aa757aa39e695e75ea1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af779d150d8b1d2a59733a1b1d18cbcf0"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjin_1_1filesystem_1_1_public_secured_file.html#af779d150d8b1d2a59733a1b1d18cbcf0">getRelativeStorePath</a> ()</td></tr>
<tr class="separator:af779d150d8b1d2a59733a1b1d18cbcf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description détaillée</h2>
<div class="textblock"><p>Permet la gestion de fichiers publics sécurisés. Les fichiers sont stockés sous un nom hashé associé à un fichier clé. L'appel du fichier en direct, sans le passage de la clé de vérification est impossible. Cette classe est destiné au stockage de fichiers à vocation de disponibilité limitée aux ayant-droits ayant eu accès à l'url sécurisée. Lors de son premier appel la classe génère un dossier "publicsecuredfile" à la racine ainsi que les fichiers .htaccess et read.php associés. Pour modifier ces fichiers, il faut surcharger l'asset publicsecuredfile. Attention pour que les modifications soient prises en compte il faut supprimer les fichiers .htaccess et read.php du dossier publicsecuredfile/ </p>
</div><h2 class="groupheader">Documentation des constructeurs et destructeur</h2>
<a class="anchor" id="ac222ff11eb057e6457af648123d4a19d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__construct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$secureKey</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructeur </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>Chemin relatif. (à partir du dossier image) </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$secureKey</td><td>Clé d'accès </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Documentation des fonctions membres</h2>
<a class="anchor" id="a085aa103a87f5de514cbada9166f1488"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static add </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$fileToCopy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$relativePath</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Ajoute une ressource sécurisée </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$fileToCopy</td><td>Chemin absolu ou relatif du fichier à copier </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$relativePath</td><td>Chemin relatif souhaité à l'intérieur du dossier publicsecuredfiles/ ('' par défaut) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Renvoie</dt><dd>array('read' =&gt; 'lien pour lecture', 'download' =&gt; 'lien pour téléchargement') Les liens fournis n'incluent pas l'arborescence inférieure à publicsecuredfiles/ </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a13bdffdd926f26b825ea57066334ff01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delete </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Supprime la ressource iconographique sécurisée </p>

</div>
</div>
<a class="anchor" id="a58a0c28c7b73d213bbcda35f59b59899"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static deleteFromUrl </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Supprime une ressource à partir de son url </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$url</td><td>Url sécurisée </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a31cf5274dbb0c7b89d01a13a17c38bae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">forceDownload </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Force le téléchargement du fichier </p><dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad3d11f325bf1aa757aa39e695e75ea1e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static getFullStorePath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retourne le chemin absolu du dossier de stockage </p><dl class="section return"><dt>Renvoie</dt><dd>string </dd></dl>

</div>
</div>
<a class="anchor" id="a03582271ad4fdc21fa01a7901bf3605f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getLastError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retourne la dernière erreur rencontrée (en verbose) </p><dl class="section return"><dt>Renvoie</dt><dd>string </dd></dl>

</div>
</div>
<a class="anchor" id="af779d150d8b1d2a59733a1b1d18cbcf0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static getRelativeStorePath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retourne le chemin relatif du dossier de stockage </p><dl class="section return"><dt>Renvoie</dt><dd>string </dd></dl>

</div>
</div>
<a class="anchor" id="a2cded8a3175c3db2fbdc53bf75d1d1e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static getUrlKeyArg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retourne le nom du paramètre utilisé dans l'Url pour transmettre la clé </p><dl class="section return"><dt>Renvoie</dt><dd>string </dd></dl>

</div>
</div>
<a class="anchor" id="a7b37efab7473a1effc29f8be2421f6e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">isValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retourne si il s'agit d'une ressource valide. (Initialisée avec succès) </p><dl class="section return"><dt>Renvoie</dt><dd>boolean </dd></dl>

</div>
</div>
<a class="anchor" id="adcb0cc2f1903af33935fc478c04f7fcf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">renderInOutput </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Effectue le rendu de la ressource directement dans la sortie navigateur </p>

</div>
</div>
<a class="anchor" id="aee8e0e595889d4f9ea2e5532e4e41d0d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static setBaseKeyLength </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Modifie le nombre de caractères des clés de sécurité </p><dl class="params"><dt>Paramètres</dt><dd>
  <table class="params">
    <tr><td class="paramtype">integer</td><td class="paramname">$length</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>La documentation de cette classe a été générée à partir du fichier suivant :<ul>
<li><a class="el" href="publicsecuredfile_8php.html">publicsecuredfile.php</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Généré le Lundi 4 Janvier 2016 10:39:49 pour Jin Framework par &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
